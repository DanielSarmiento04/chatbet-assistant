/**
 * ChatBet Angular Material Theme Configuration
 * Sports betting optimized design system - Angular Material 19 (M3) Compatible
 */

// Custom Theming for Angular Material
// For more information: https://material.angular.dev/guide/theming
@use '@angular/material' as mat;

// Include the common styles for Angular Material. We include this here so that you only
// have to load a single css file for Angular Material in your app.
@include mat.core();

// Define M3 theme using the new system
$chatbet-theme: mat.define-theme((
  color: (
    theme-type: light,
    primary: mat.$green-palette,
    tertiary: mat.$orange-palette,
  ),
  typography: (
    brand-family: 'Inter',
    plain-family: 'Inter',
  ),
));

// Dark theme variant
$chatbet-dark-theme: mat.define-theme((
  color: (
    theme-type: dark,
    primary: mat.$green-palette,
    tertiary: mat.$orange-palette,
  ),
  typography: (
    brand-family: 'Inter',
    plain-family: 'Inter',
  ),
));

// Apply the base theme (includes core, typography, and density)
html {
  @include mat.all-component-themes($chatbet-theme);
}

// Apply only color themes for dark mode to avoid duplication
html.dark-theme {
  @include mat.all-component-colors($chatbet-dark-theme);
}

// Custom CSS Variables for consistent theming
:root {
  // ChatBet brand colors
  --chatbet-primary: #2e7d32;
  --chatbet-primary-light: #4caf50;
  --chatbet-primary-dark: #1b5e20;
  --chatbet-accent: #ff9800;
  --chatbet-accent-light: #ffb74d;
  --chatbet-accent-dark: #f57c00;
  --chatbet-warn: #f44336;
  --chatbet-warn-light: #ef5350;
  --chatbet-warn-dark: #d32f2f;

  // M3 Surface colors (light theme)
  --chatbet-surface: #fefbff;
  --chatbet-surface-dim: #ded8e1;
  --chatbet-surface-bright: #fef7ff;
  --chatbet-surface-container-lowest: #ffffff;
  --chatbet-surface-container-low: #f7f2fa;
  --chatbet-surface-container: #f1ecf4;
  --chatbet-surface-container-high: #ece6f0;
  --chatbet-surface-container-highest: #e6e0e9;

  // Background colors
  --chatbet-bg-primary: var(--chatbet-surface);
  --chatbet-bg-secondary: var(--chatbet-surface-container-low);
  --chatbet-bg-tertiary: var(--chatbet-surface-container);
  --chatbet-bg-card: var(--chatbet-surface-container-lowest);
  --chatbet-bg-app-bar: var(--chatbet-surface-container);

  // Text colors (M3)
  --chatbet-on-surface: #1d1b20;
  --chatbet-on-surface-variant: #49454f;
  --chatbet-outline: #79747e;
  --chatbet-outline-variant: #cab6cf;

  --chatbet-text-primary: var(--chatbet-on-surface);
  --chatbet-text-secondary: var(--chatbet-on-surface-variant);
  --chatbet-text-disabled: color-mix(in srgb, var(--chatbet-on-surface) 38%, transparent);
  --chatbet-text-hint: var(--chatbet-outline);

  // Border colors
  --chatbet-border-light: var(--chatbet-outline-variant);
  --chatbet-border-medium: var(--chatbet-outline);
  --chatbet-border-dark: var(--chatbet-on-surface-variant);

  // Chat specific colors
  --chatbet-message-user-bg: var(--chatbet-primary);
  --chatbet-message-user-text: #ffffff;
  --chatbet-message-bot-bg: var(--chatbet-surface-container-high);
  --chatbet-message-bot-text: var(--chatbet-on-surface);
  --chatbet-message-error-bg: #ffeaea;
  --chatbet-message-error-text: #ba1a1a;

  // Odds colors
  --chatbet-odds-positive: #2e7d32;
  --chatbet-odds-negative: #d32f2f;
  --chatbet-odds-neutral: #616161;

  // Sports betting colors
  --chatbet-win: #2e7d32;
  --chatbet-loss: #d32f2f;
  --chatbet-draw: #f57c00;

  // Animation timings
  --chatbet-animation-fast: 150ms;
  --chatbet-animation-medium: 300ms;
  --chatbet-animation-slow: 500ms;

  // Spacing (M3 spacing scale)
  --chatbet-spacing-xs: 4px;
  --chatbet-spacing-sm: 8px;
  --chatbet-spacing-md: 16px;
  --chatbet-spacing-lg: 24px;
  --chatbet-spacing-xl: 32px;
  --chatbet-spacing-xxl: 48px;

  // Border radius (M3 shape scale)
  --chatbet-border-radius-xs: 4px;
  --chatbet-border-radius-sm: 8px;
  --chatbet-border-radius-md: 12px;
  --chatbet-border-radius-lg: 16px;
  --chatbet-border-radius-xl: 28px;
  --chatbet-border-radius-full: 50%;

  // Elevation (M3 elevation system)
  --chatbet-elevation-1: 0px 1px 2px 0px rgba(0, 0, 0, 0.3), 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
  --chatbet-elevation-2: 0px 1px 2px 0px rgba(0, 0, 0, 0.3), 0px 2px 6px 2px rgba(0, 0, 0, 0.15);
  --chatbet-elevation-3: 0px 1px 3px 0px rgba(0, 0, 0, 0.3), 0px 4px 8px 3px rgba(0, 0, 0, 0.15);
  --chatbet-elevation-4: 0px 2px 3px 0px rgba(0, 0, 0, 0.3), 0px 6px 10px 4px rgba(0, 0, 0, 0.15);
  --chatbet-elevation-5: 0px 4px 4px 0px rgba(0, 0, 0, 0.3), 0px 8px 12px 6px rgba(0, 0, 0, 0.15);

  // Legacy shadow variables for backward compatibility
  --chatbet-shadow-sm: var(--chatbet-elevation-1);
  --chatbet-shadow-md: var(--chatbet-elevation-3);
  --chatbet-shadow-lg: var(--chatbet-elevation-4);
  --chatbet-shadow-xl: var(--chatbet-elevation-5);
}

// Dark theme variables
html.dark-theme {
  // M3 Surface colors (dark theme)
  --chatbet-surface: #141218;
  --chatbet-surface-dim: #141218;
  --chatbet-surface-bright: #3b383e;
  --chatbet-surface-container-lowest: #0f0d13;
  --chatbet-surface-container-low: #1d1b20;
  --chatbet-surface-container: #211f26;
  --chatbet-surface-container-high: #2b2930;
  --chatbet-surface-container-highest: #36343b;

  // Background colors
  --chatbet-bg-primary: var(--chatbet-surface);
  --chatbet-bg-secondary: var(--chatbet-surface-container-low);
  --chatbet-bg-tertiary: var(--chatbet-surface-container);
  --chatbet-bg-card: var(--chatbet-surface-container-low);
  --chatbet-bg-app-bar: var(--chatbet-surface-container);

  // Text colors (M3 dark)
  --chatbet-on-surface: #e6e0e9;
  --chatbet-on-surface-variant: #cab6cf;
  --chatbet-outline: #938f99;
  --chatbet-outline-variant: #49454f;

  --chatbet-text-primary: var(--chatbet-on-surface);
  --chatbet-text-secondary: var(--chatbet-on-surface-variant);
  --chatbet-text-disabled: color-mix(in srgb, var(--chatbet-on-surface) 38%, transparent);
  --chatbet-text-hint: var(--chatbet-outline);

  // Border colors
  --chatbet-border-light: var(--chatbet-outline-variant);
  --chatbet-border-medium: var(--chatbet-outline);
  --chatbet-border-dark: var(--chatbet-on-surface-variant);

  // Chat specific colors (dark theme)
  --chatbet-message-user-bg: var(--chatbet-primary);
  --chatbet-message-user-text: #ffffff;
  --chatbet-message-bot-bg: var(--chatbet-surface-container-high);
  --chatbet-message-bot-text: var(--chatbet-on-surface);
  --chatbet-message-error-bg: #93000a;
  --chatbet-message-error-text: #ffb4ab;
}

// Global styles
* {
  box-sizing: border-box;
}

html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background-color: var(--chatbet-bg-primary);
  color: var(--chatbet-text-primary);
}

// Utility classes
.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }

.flex { display: flex; }
.flex-column { flex-direction: column; }
.flex-row { flex-direction: row; }
.flex-wrap { flex-wrap: wrap; }
.flex-nowrap { flex-wrap: nowrap; }
.justify-center { justify-content: center; }
.justify-between { justify-content: space-between; }
.justify-around { justify-content: space-around; }
.justify-start { justify-content: flex-start; }
.justify-end { justify-content: flex-end; }
.align-center { align-items: center; }
.align-start { align-items: flex-start; }
.align-end { align-items: flex-end; }
.align-stretch { align-items: stretch; }

.w-full { width: 100%; }
.h-full { height: 100%; }
.m-0 { margin: 0; }
.p-0 { padding: 0; }

// Spacing utilities
@for $i from 1 through 8 {
  .m-#{$i} { margin: #{$i * 4}px; }
  .mt-#{$i} { margin-top: #{$i * 4}px; }
  .mr-#{$i} { margin-right: #{$i * 4}px; }
  .mb-#{$i} { margin-bottom: #{$i * 4}px; }
  .ml-#{$i} { margin-left: #{$i * 4}px; }
  .mx-#{$i} { margin-left: #{$i * 4}px; margin-right: #{$i * 4}px; }
  .my-#{$i} { margin-top: #{$i * 4}px; margin-bottom: #{$i * 4}px; }

  .p-#{$i} { padding: #{$i * 4}px; }
  .pt-#{$i} { padding-top: #{$i * 4}px; }
  .pr-#{$i} { padding-right: #{$i * 4}px; }
  .pb-#{$i} { padding-bottom: #{$i * 4}px; }
  .pl-#{$i} { padding-left: #{$i * 4}px; }
  .px-#{$i} { padding-left: #{$i * 4}px; padding-right: #{$i * 4}px; }
  .py-#{$i} { padding-top: #{$i * 4}px; padding-bottom: #{$i * 4}px; }
}

// Component-specific styles using M3 design tokens
.chatbet-card {
  background: var(--chatbet-bg-card);
  border-radius: var(--chatbet-border-radius-md);
  box-shadow: var(--chatbet-elevation-1);
  padding: var(--chatbet-spacing-md);
  border: 1px solid var(--chatbet-border-light);
  transition: box-shadow var(--chatbet-animation-fast) ease;

  &:hover {
    box-shadow: var(--chatbet-elevation-2);
  }
}

.chatbet-button-primary {
  background-color: var(--chatbet-primary);
  color: white;
  border: none;
  border-radius: var(--chatbet-border-radius-lg);
  padding: var(--chatbet-spacing-sm) var(--chatbet-spacing-lg);
  font-weight: 500;
  font-size: 14px;
  letter-spacing: 0.1px;
  cursor: pointer;
  transition: all var(--chatbet-animation-fast) ease;
  box-shadow: var(--chatbet-elevation-1);

  &:hover {
    background-color: var(--chatbet-primary-dark);
    box-shadow: var(--chatbet-elevation-2);
  }

  &:active {
    box-shadow: var(--chatbet-elevation-1);
  }

  &:disabled {
    background-color: color-mix(in srgb, var(--chatbet-on-surface) 12%, transparent);
    color: color-mix(in srgb, var(--chatbet-on-surface) 38%, transparent);
    cursor: not-allowed;
    box-shadow: none;
  }
}

.chatbet-button-secondary {
  background-color: transparent;
  color: var(--chatbet-primary);
  border: 1px solid var(--chatbet-outline);
  border-radius: var(--chatbet-border-radius-lg);
  padding: var(--chatbet-spacing-sm) var(--chatbet-spacing-lg);
  font-weight: 500;
  font-size: 14px;
  letter-spacing: 0.1px;
  cursor: pointer;
  transition: all var(--chatbet-animation-fast) ease;

  &:hover {
    background-color: color-mix(in srgb, var(--chatbet-primary) 8%, transparent);
    border-color: var(--chatbet-primary);
  }

  &:active {
    background-color: color-mix(in srgb, var(--chatbet-primary) 12%, transparent);
  }

  &:disabled {
    border-color: color-mix(in srgb, var(--chatbet-on-surface) 12%, transparent);
    color: color-mix(in srgb, var(--chatbet-on-surface) 38%, transparent);
    cursor: not-allowed;
  }
}

// Scrollbar styling
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--chatbet-bg-secondary);
  border-radius: var(--chatbet-border-radius-xs);
}

::-webkit-scrollbar-thumb {
  background: var(--chatbet-outline-variant);
  border-radius: var(--chatbet-border-radius-xs);

  &:hover {
    background: var(--chatbet-outline);
  }
}

// Animation classes
.fade-in {
  animation: fadeIn var(--chatbet-animation-medium) ease-in-out;
}

.slide-up {
  animation: slideUp var(--chatbet-animation-medium) ease-out;
}

.bounce-in {
  animation: bounceIn var(--chatbet-animation-slow) ease-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes bounceIn {
  0% {
    transform: scale(0.3);
    opacity: 0;
  }
  50% {
    transform: scale(1.05);
  }
  70% {
    transform: scale(0.9);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

// Responsive breakpoints
@media (max-width: 599px) {
  .hide-mobile { display: none !important; }
}

@media (min-width: 600px) and (max-width: 1023px) {
  .hide-tablet { display: none !important; }
}

@media (min-width: 1024px) {
  .hide-desktop { display: none !important; }
}

@media (max-width: 1023px) {
  .hide-mobile-tablet { display: none !important; }
}
